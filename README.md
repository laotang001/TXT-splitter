# TXT文档拆分工具

一款专业的TXT文档拆分软件，支持智能章节识别、多编码兼容和批量处理功能。

## 功能特点

1. **智能章节识别**
   - 自动识别常见章节标记格式（第X章、第X回、第X节、XXX（一）等）
   - 支持用户自定义章节标记的正则表达式

2. **灵活拆分逻辑**
   - 优先按识别到的章节进行拆分
   - 当无法识别章节时，按每8000字自动拆分
   - **新增：当章节内容超过1万字（汉字含标点）时，该章节将自动拆分为多个子文件，并以“章节名_数字”命名。**
   - 保留原文档的完整内容，不丢失任何文字

3. **多编码支持**
   - 自动检测并兼容多种中文编码（GBK、UTF-8等）
   - 确保拆分后的文档保持原编码格式

4. **规范化输出**
   - 每个拆分后的文档以"原文件名_序号.txt"格式保存
   - 在文件开头保留原章节标题（如按章节拆分）
   - **新增：支持选择自定义输出目录，拆分后的文件将保存到指定目录。**
   - **新增：大章节拆分后，文件命名格式为“章节名_数字.txt”。**

5. **用户友好界面**
   - 简洁直观的图形用户界面
   - 处理大文件时显示进度条
   - 支持批量处理多个TXT文档

## 安装依赖

使用前需要安装 `requirements.txt` 中列出的Python库：

```bash
pip install -r requirements.txt
```

## 使用方法

1. 运行程序：
   ```bash
   python txt_splitter.py
   ```

2. 在界面中点击"选择文件"按钮，选择需要拆分的TXT文件（可多选）

3. **新增：点击“选择目录”按钮，选择拆分后文件的输出目录。若不选择，默认输出到源文件所在目录。**

4. 可选：设置自定义章节正则表达式和默认拆分字数

5. 点击"开始拆分"按钮，等待处理完成

6. 拆分后的文件将保存在您选择的输出目录（或源文件目录），命名格式为：
   - 按章节拆分："章节名.txt"
   - 大章节拆分："章节名_数字.txt"
   - 按字数拆分："原文件名_序号.txt"

## 注意事项

- 对于特殊格式的章节标题，可以通过自定义正则表达式进行识别
- 处理大文件时可能需要较长时间，请耐心等待
- 如遇到编码识别错误，可尝试先将文件转换为UTF-8编码